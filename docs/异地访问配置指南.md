# 异地访问配置指南

## 📋 当前状态

- **本机内网IP**: `192.168.110.15`
- **Laravel 后端**: 已监听 `0.0.0.0:8000` ✅
- **Vite 前端**: 已监听 `0.0.0.0:5173` ✅

## 🔧 配置步骤

### 1. 更新 Vite 配置（使代理使用实际IP）

需要修改 `vite.config.ts`，将代理目标从 `localhost` 改为实际IP地址。

### 2. 防火墙配置

#### Ubuntu/Debian (ufw)
```bash
sudo ufw allow 8000/tcp
sudo ufw allow 5173/tcp
sudo ufw reload
```

#### CentOS/RHEL (firewalld)
```bash
sudo firewall-cmd --permanent --add-port=8000/tcp
sudo firewall-cmd --permanent --add-port=5173/tcp
sudo firewall-cmd --reload
```

### 3. 网络环境

#### 情况A：同一局域网内访问
- **访问地址**: `http://192.168.110.15:5173`
- **后端API**: `http://192.168.110.15:8000`
- **无需额外配置**

#### 情况B：公网访问（有公网IP）
- **访问地址**: `http://你的公网IP:5173`
- **后端API**: `http://你的公网IP:8000`
- **需要配置路由器端口转发**:
  - 将外网端口 5173 转发到内网 `192.168.110.15:5173`
  - 将外网端口 8000 转发到内网 `192.168.110.15:8000`

#### 情况C：公网访问（无公网IP，使用内网穿透）
推荐使用以下工具：
- **ngrok** (免费，简单)
- **frp** (开源，功能强大)
- **花生壳** (国内，稳定)

## 🚀 快速配置（同一局域网）

如果访问者和你在同一局域网内，只需：

1. **获取本机IP**（已获取：`192.168.110.15`）
2. **确保防火墙允许端口**（见上方）
3. **访问**: `http://192.168.110.15:5173`

## 🌐 使用 ngrok 进行内网穿透（推荐）

### 安装 ngrok
```bash
# 下载 ngrok
wget https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-linux-amd64.tgz
tar xvzf ngrok-v3-stable-linux-amd64.tgz
sudo mv ngrok /usr/local/bin/

# 或使用 snap
sudo snap install ngrok
```

### 使用 ngrok
```bash
# 1. 注册账号并获取 token: https://dashboard.ngrok.com/get-started/your-authtoken
ngrok config add-authtoken YOUR_TOKEN

# 2. 启动前端隧道
ngrok http 5173

# 3. 启动后端隧道（新终端）
ngrok http 8000
```

ngrok 会提供类似 `https://xxxx.ngrok.io` 的公网地址。

## ⚠️ 注意事项

1. **安全性**: 开发环境不建议直接暴露到公网，建议使用内网穿透工具
2. **CORS**: 如果前后端分离部署，需要配置 CORS
3. **HTTPS**: 生产环境建议使用 HTTPS
4. **性能**: 开发服务器不适合生产环境，仅用于测试

## 📝 下一步

根据你的需求选择：
- **同一局域网**: 直接使用 `192.168.110.15:5173`
- **公网访问**: 配置端口转发或使用内网穿透工具
- **生产环境**: 使用 Nginx + PHP-FPM 部署

